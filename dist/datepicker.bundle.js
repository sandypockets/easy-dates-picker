!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DatePicker=t():e.DatePicker=t()}(this,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function n(e,t){var n,a,i,s,r,l;this.element=document.getElementById(e),this.currentDate=new Date,this.currentDate.setDate(1),this.selectedStartDate=null,this.selectedEndDate=null,this.options={mode:null!==(n=null==t?void 0:t.mode)&&void 0!==n?n:"single",onSelect:null!==(a=null==t?void 0:t.onSelect)&&void 0!==a?a:null,blockedDays:null!==(i=null==t?void 0:t.blockedDays)&&void 0!==i?i:[],showDayNames:null===(s=null==t?void 0:t.showDayNames)||void 0===s||s,textInputEnabled:null!==(r=null==t?void 0:t.textInputEnabled)&&void 0!==r&&r,textInputPlaceholder:null!==(l=null==t?void 0:t.textInputPlaceholder)&&void 0!==l?l:"Choose a date"},this.init=function(){this.render(),this.attachEventListeners()},this.render=function(){var e=this;this.element.innerHTML="";var t=document.createElement("input");if(t.value=this.options.textInputPlaceholder,t.type="text",t.className="datepicker-input",t.readOnly=!0,this.selectedStartDate)if("single"===this.options.mode)t.value=this.selectedStartDate.toDateString();else if("range"===this.options.mode){var n=this.selectedStartDate.toDateString();this.selectedEndDate&&(n+=" - ".concat(this.selectedEndDate.toDateString())),t.value=n}this.element.appendChild(t);var a=document.createElement("div");a.className="datepicker-calendar-container",a.style.display=this.options.textInputEnabled?"none":"block",a.innerHTML='\n      <div class="datepicker-header">\n        <button class="prev-month">&lt;</button>\n        <span class="month-display">'.concat(this.getMonthName(this.currentDate.getMonth())," ").concat(this.currentDate.getFullYear(),'</span>\n        <button class="next-month">&gt;</button>\n      </div>\n      ').concat(this.options.showDayNames?this.generateDayNames():"",'\n      <div class="datepicker-days">\n        ').concat(this.generateCalendar(),"\n      </div>\n    "),this.element.appendChild(a),this.options.textInputEnabled&&(t.addEventListener("click",(function(){a.style.display="block"})),document.addEventListener("click",(function(t){e.element.contains(t.target)||(a.style.display="none")}))),this.attachEventListeners()},this.generateDayNames=function(){return'<div class="datepicker-day-names">'.concat(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(e){return"<div>".concat(e,"</div>")})).join(""),"</div>")},this.generateCalendar=function(){var e=this.currentDate.getFullYear(),t=this.currentDate.getMonth(),n=e%4==0&&e%100!=0||e%400==0,a=new Date(e,t,1),i=new Date(e,t,0).getDate(),s=new Date(e,t+1,0).getDate();1===t&&n&&(s=29);for(var r='<div class="datepicker-week">',l=a.getDay();l>0;l--){var c=i-l+1;r+=this.generateDayCell(e,t-1,c,!1)}for(var o=1;o<=s;o++)r+=this.generateDayCell(e,t,o);for(var d=new Date(e,t,s).getDay(),h=1;d<6;h++,d++)r+=this.generateDayCell(e,t+1,h,!1);return r+"</div>"},this.generateDayCell=function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=new Date(e,t,n),s=i.getDay(),r=a?"datepicker-day current-month":"datepicker-day";return this.options.blockedDays.includes(s)?r+=" blocked":a&&this.isDateSelected(i)?r+=" selected":a&&this.isDateInRange(i)&&(r+=" in-range"),'<div class="'.concat(r,'" data-day="').concat(n,'" data-month="').concat(t,'"><span>').concat(n,"</span></div>")},this.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},this.isDateSelected=function(e){return this.selectedStartDate&&this.selectedStartDate.toDateString()===e.toDateString()||this.selectedEndDate&&this.selectedEndDate.toDateString()===e.toDateString()},this.isDateInRange=function(e){return this.selectedStartDate&&this.selectedEndDate&&e>this.selectedStartDate&&e<this.selectedEndDate},this.attachEventListeners=function(){var e=this,t=this.element.querySelector(".prev-month"),n=this.element.querySelector(".next-month"),a=this.element.querySelector(".datepicker-calendar-container");t.removeEventListener("click",this.prevMonthClickListener),n.removeEventListener("click",this.nextMonthClickListener),this.prevMonthClickListener=function(t){t.stopPropagation(),e.changeMonth(-1)},this.nextMonthClickListener=function(t){t.stopPropagation(),e.changeMonth(1)},t.addEventListener("click",this.prevMonthClickListener),n.addEventListener("click",this.nextMonthClickListener),this.dayClickListener=function(t){var n=t.target.closest(".datepicker-day");if(n&&!n.classList.contains("blocked")){var a=parseInt(n.getAttribute("data-day"),10),i=parseInt(n.getAttribute("data-month"),10);e.handleDayClick(a,i)}},this.element.querySelector(".datepicker-days").addEventListener("click",this.dayClickListener),document.addEventListener("click",(function(t){a.contains(t.target)||e.element.querySelector(".datepicker-input").contains(t.target)||(a.style.display="none")}))},this.handleDayClick=function(e,t){var n=this.currentDate.getFullYear();-1===t?(t=11,n--):12===t&&(t=0,n++);var a=new Date(n,t,e);"single"===this.options.mode?(this.selectedStartDate=a,this.selectedEndDate=null,this.element.querySelector(".datepicker-input").value=a.toDateString(),this.triggerSelectCallback(),this.render(),this.element.querySelector(".datepicker-calendar-container").style.display="none"):"range"===this.options.mode&&(!this.selectedStartDate||this.selectedEndDate?(this.selectedStartDate=a,this.selectedEndDate=null,this.render(),this.element.querySelector(".datepicker-calendar-container").style.display="block"):this.selectedStartDate&&!this.selectedEndDate&&(a>this.selectedStartDate?(this.selectedEndDate=a,this.element.querySelector(".datepicker-input").value="".concat(this.selectedStartDate.toDateString()," ").concat(void 0!==this.selectedEndDate.toDateString()?"- "+this.selectedEndDate.toDateString():""),this.triggerSelectCallback(),this.render(),this.element.querySelector(".datepicker-calendar-container").style.display="none"):(this.selectedStartDate=a,this.render(),this.element.querySelector(".datepicker-calendar-container").style.display="block")))},this.changeMonth=function(e){var t=this.currentDate.getFullYear(),n=this.currentDate.getMonth(),a=this.currentDate.getDate(),i=new Date(t,n+e,1),s=new Date(t,i.getMonth()+1,0).getDate();i.setDate(Math.min(a,s)),this.currentDate=i,this.render(),this.element.querySelector(".datepicker-calendar-container").style.display="block"},this.triggerSelectCallback=function(){this.options.onSelect&&this.options.onSelect(this.selectedStartDate,this.selectedEndDate)},this.getMonthName=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e]}}return e.d(t,{default:()=>n}),t.default})()));